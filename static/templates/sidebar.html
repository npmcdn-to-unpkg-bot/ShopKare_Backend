<style type="text/css">
  .brand-filters .filter-content-header{
    max-height: 156px;
    overflow-y: auto;
    padding: 0px 8px;
    overflow-x: hidden;
  }
  .brand-filters>hr{
    margin: 6px 0px;
    width: 95%;
  }
  .brand-filters .checkbox label{
    line-height: 22px;
    max-width: 100%;
  }
  .brand-filters .checkbox span{
    white-space: nowrap;
    display: inline-block;
    max-width: 100%;
  }
  .brand-filters .checkbox{
    margin: 0px 0px 4px;
  }
  .brand-filters .filter-header{
    font-size: 20px;
    line-height: 20px;
  }
  .brand-filters .filter-header .reset-filter{
    display: inline-block;
    float: right;
    font-size: 12px;
    cursor: pointer;
    padding-right: 14px;
    color: gray;
    padding-top: 5px;
  }
</style>

<div class="sidebar" ng-hide="show_filter">
  <h4 style="padding-top: 10px;margin-top: 0px;"><center><i class="fa fa-tag "></i>Popular Categories</center></h4>
  <hr>
  <div id="sidebar-wrapper">
    <ul class="sidebar-nav" ng-repeat="(key,data) in allCategories" class="sidebar-brand" >
      <li class="sidebar-brand" ng-repeat="(mainCategory,d) in data" style="font-size:1.2em">
        <button  style="width:90%; padding: 0px; background-color: #4c4c4c !important;color:white;font-size: 16px !important;" class="btn btn-inverse" ng-init="showCategories[$parent.$index]=false">
          <div class="row">
            <div class="col-md-9" ng-click="showCategoryProducts(mainCategory)" style="text-align:left;"> {{mainCategory}} </div>
            <div class="col-md-2">
              <i class="fa fa-minus " ng-click="collapseCategory($parent.$index)"  ng-show="showCategories[$parent.$index]"></i>
              <i class="fa fa-plus " ng-click="expandCategory($parent.$index)" ng-hide="showCategories[$parent.$index]"></i>
            </div>
          </div>
        </button>
        <ul class="sidebar-nav" ng-if="showCategories[$parent.$index]">
          <li ng-repeat="subcat in d" class="sidebar-brand" ng-hide="expanded" ng-click="showSubCategoryProducts(mainCategory,subcat)" style="cursor: pointer;">
            {{subcat}}
          </li>
        </ul>
      </li>
    </ul>
  </div>
  <hr>
</div>
<div ng-show="show_filter" class="brand-filters">
  <div class="filter-header">
    <span>Brand</span>
    <span class="reset-filter" ng-click="reset_filter()">Reset</span>
  </div>
  <hr>
  <div class="filter-content-header" isolate-scrolling>
    <div class="checkbox" ng-repeat="val in brand_filters">
      <label>
        <input type="checkbox" ng-checked="check_filter(val)" ng-click="manage_filter(val);">
        <span>{{val}}</span>
      </label>
    </div>
  </div>
  <hr>
</div>
